"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6480],{3905:(e,r,n)=>{n.r(r),n.d(r,{MDXContext:()=>d,MDXProvider:()=>m,mdx:()=>h,useMDXComponents:()=>p,withMDXComponents:()=>c});var o=n(67294);function t(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(){return a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function s(e,r){if(null==e)return{};var n,o,t=function(e,r){if(null==e)return{};var n,o,t={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],r.indexOf(n)>=0||(t[n]=e[n]);return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var d=o.createContext({}),c=function(e){return function(r){var n=p(r.components);return o.createElement(e,a({},r,{components:n}))}},p=function(e){var r=o.useContext(d),n=r;return e&&(n="function"==typeof e?e(r):l(l({},r),e)),n},m=function(e){var r=p(e.components);return o.createElement(d.Provider,{value:r},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var r=e.children;return o.createElement(o.Fragment,{},r)}},f=o.forwardRef((function(e,r){var n=e.components,t=e.mdxType,a=e.originalType,i=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(n),m=t,u=c["".concat(i,".").concat(m)]||c[m]||g[m]||a;return n?o.createElement(u,l(l({ref:r},d),{},{components:n})):o.createElement(u,l({ref:r},d))}));function h(e,r){var n=arguments,t=r&&r.mdxType;if("string"==typeof e||t){var a=n.length,i=new Array(a);i[0]=f;var l={};for(var s in r)hasOwnProperty.call(r,s)&&(l[s]=r[s]);l.originalType=e,l[u]="string"==typeof e?e:t,i[1]=l;for(var d=2;d<a;d++)i[d]=n[d];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}f.displayName="MDXCreateElement"},55091:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var o=n(87462),t=(n(67294),n(3905));n(79524);const a={sidebar_position:15,title:"Record a VRS file"},i=void 0,l={unversionedId:"ARK/sdk/samples/device_recording",id:"ARK/sdk/samples/device_recording",title:"Record a VRS file",description:"How to Make a Recording Using the Project Aria Client SDK",source:"@site/docs/ARK/sdk/samples/device_recording.mdx",sourceDirName:"ARK/sdk/samples",slug:"/ARK/sdk/samples/device_recording",permalink:"/projectaria_tools/docs/ARK/sdk/samples/device_recording",draft:!1,editUrl:"https://github.com/facebookresearch/projectaria_tools/tree/main/website/docs/ARK/sdk/samples/device_recording.mdx",tags:[],version:"current",sidebarPosition:15,frontMatter:{sidebar_position:15,title:"Record a VRS file"},sidebar:"tutorialSidebar",previous:{title:"Fetch Device Info & Status",permalink:"/projectaria_tools/docs/ARK/sdk/samples/device_connection"},next:{title:"Stream & Display Live Sensor Data",permalink:"/projectaria_tools/docs/ARK/sdk/samples/device_stream"}},s={},d=[{value:"How to Make a Recording Using the Project Aria Client SDK",id:"how-to-make-a-recording-using-the-project-aria-client-sdk",level:2},{value:"Run <code>device_record</code>",id:"run-device_record",level:2},{value:"Example 1: start and stop recording",id:"example-1-start-and-stop-recording",level:3},{value:"Example 2: start and stop recording using a custom sensor profile",id:"example-2-start-and-stop-recording-using-a-custom-sensor-profile",level:3},{value:"Code walkthrough",id:"code-walkthrough",level:2},{value:"1. Get set up",id:"1-get-set-up",level:3},{value:"2. Retrieve RecordingManager instance",id:"2-retrieve-recordingmanager-instance",level:3},{value:"3. Configure recording settings (optional)",id:"3-configure-recording-settings-optional",level:3},{value:"4. Access sensor calibration (optional)",id:"4-access-sensor-calibration-optional",level:3},{value:"5. Start recording",id:"5-start-recording",level:3},{value:"6. Record for specific amount of time (optional)",id:"6-record-for-specific-amount-of-time-optional",level:3},{value:"7. Stop Recording (optional)",id:"7-stop-recording-optional",level:3},{value:"8. Disconnect",id:"8-disconnect",level:3}],c={toc:d},p="wrapper";function m(e){let{components:r,...n}=e;return(0,t.mdx)(p,(0,o.Z)({},c,n,{components:r,mdxType:"MDXLayout"}),(0,t.mdx)("h2",{id:"how-to-make-a-recording-using-the-project-aria-client-sdk"},"How to Make a Recording Using the Project Aria Client SDK"),(0,t.mdx)("p",null,"This page shows how to run the code sample ",(0,t.mdx)("inlineCode",{parentName:"p"},"device_record")," to make Project Aria glasses recordings (VRS file format) and provides a code walkthrough of its capabilities."),(0,t.mdx)("p",null,(0,t.mdx)("inlineCode",{parentName:"p"},"device_record")," enables you to:"),(0,t.mdx)("ul",null,(0,t.mdx)("li",{parentName:"ul"},"Set a ",(0,t.mdx)("a",{parentName:"li",href:"/docs/tech_spec/recording_profiles"},"recording profile")),(0,t.mdx)("li",{parentName:"ul"},"Access sensor calibration through the recording manager"),(0,t.mdx)("li",{parentName:"ul"},"Start recording, stop recording, and record for a specific duration")),(0,t.mdx)("h2",{id:"run-device_record"},"Run ",(0,t.mdx)("inlineCode",{parentName:"h2"},"device_record")),(0,t.mdx)("h3",{id:"example-1-start-and-stop-recording"},"Example 1: start and stop recording"),(0,t.mdx)("p",null,"Use the SDK to connect to the device via USB, start a 10 seconds recording using the ",(0,t.mdx)("a",{parentName:"p",href:"docs/ARK/ARK_quickstart#set-your-default-recording-profile"},"default recording profile"),", then automatically stop the recording."),(0,t.mdx)("ol",null,(0,t.mdx)("li",{parentName:"ol"},"Plug your Aria glasses into your computer, using the provided cable"),(0,t.mdx)("li",{parentName:"ol"},"In terminal, go to the samples directory and run ",(0,t.mdx)("inlineCode",{parentName:"li"},"python device_record")),(0,t.mdx)("li",{parentName:"ol"},"The recording LED will show on your Aria glasses"),(0,t.mdx)("li",{parentName:"ol"},"After 10 seconds the recording will stop and be stored in your Aria glasses",(0,t.mdx)("ul",{parentName:"li"},(0,t.mdx)("li",{parentName:"ul"},"View the recording metadata in the Recordings tab of the Mobile Companion app"),(0,t.mdx)("li",{parentName:"ul"},"Run ",(0,t.mdx)("inlineCode",{parentName:"li"},"adb shell ls -l /sdcard/recording")," and you should see your newly recorded file"),(0,t.mdx)("li",{parentName:"ul"},"Run ",(0,t.mdx)("inlineCode",{parentName:"li"},"adb pull /sdcard/recording/myVrsFile.vrs myLocalFolder/")," to download the VRS file"),(0,t.mdx)("li",{parentName:"ul"},"Run ",(0,t.mdx)("inlineCode",{parentName:"li"},"adb pull /sdcard/recording/myVrsFile.json myLocalFolder/")," to download the VRS metadata"),(0,t.mdx)("li",{parentName:"ul"},"VRS files can be visualized using the ",(0,t.mdx)("a",{parentName:"li",href:"/projectaria_tools/docs/data_utilities/visualization_guide"},"Aria Viewer"))))),(0,t.mdx)("h3",{id:"example-2-start-and-stop-recording-using-a-custom-sensor-profile"},"Example 2: start and stop recording using a custom sensor profile"),(0,t.mdx)("p",null,"You can use Recording Profiles to set the sensors used when recording or streaming data. Go to ",(0,t.mdx)("a",{parentName:"p",href:"/docs/tech_spec/recording_profiles"},"Project Aria Recording Profiles")," to find out more about the custom sensor profiles available."),(0,t.mdx)("p",null,"This example shows mirrors the previous example, except that a specific sensor profile has been selected."),(0,t.mdx)("p",null,"Open your terminal and, from the samples directory, run:"),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-bash"},"python -m device_record --profile profile15\n")),(0,t.mdx)("p",null,"After 10 seconds, the recording will stop and be stored on your Aria glasses."),(0,t.mdx)("h2",{id:"code-walkthrough"},"Code walkthrough"),(0,t.mdx)("h3",{id:"1-get-set-up"},"1. Get set up"),(0,t.mdx)("p",null,"Import the SDK and connect to the Aria glasses using the Get Set Up instructions in ",(0,t.mdx)("a",{parentName:"p",href:"/projectaria_tools/docs/ARK/sdk/samples/device_connection"},"device_connection"),"."),(0,t.mdx)("h3",{id:"2-retrieve-recordingmanager-instance"},"2. Retrieve RecordingManager instance"),(0,t.mdx)("ul",null,(0,t.mdx)("li",{parentName:"ul"},"Get an instance of ",(0,t.mdx)("inlineCode",{parentName:"li"},"RecordingManager")," from the connected device.")),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-python"},"recording_manager = device.recording_manager\n")),(0,t.mdx)("h3",{id:"3-configure-recording-settings-optional"},"3. Configure recording settings (optional)"),(0,t.mdx)("p",null," Use a custom configuration for your recordings"),(0,t.mdx)("ul",null,(0,t.mdx)("li",{parentName:"ul"},(0,t.mdx)("inlineCode",{parentName:"li"},"args.profile_name")," allows you to specify the profile name for the recording. See ",(0,t.mdx)("a",{parentName:"li",href:"/docs/ARK/sdk/concepts/sdk_sensor_profiles"},"the Sensors Profiles page")," to retrieve the available profiles")),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-python"},"recording_config = aria.RecordingConfig()\n# If set, profile_name takes precedence over the default profile\nrecording_config.profile_name = args.profile_name\nrecording_manager.recording_config = recording_config\n")),(0,t.mdx)("h3",{id:"4-access-sensor-calibration-optional"},"4. Access sensor calibration (optional)"),(0,t.mdx)("p",null,"Once the sensors have been configured, the recording manager can provide the sensor calibration data for those settings."),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-python"},"recording_calib_json = recording_manager.sensors_calibration()\n")),(0,t.mdx)("h3",{id:"5-start-recording"},"5. Start recording"),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-python"},"recording_manager.start_recording()\n")),(0,t.mdx)("h3",{id:"6-record-for-specific-amount-of-time-optional"},"6. Record for specific amount of time (optional)"),(0,t.mdx)("p",null,"Set how long the Aria glasses will record before automatically turning off."),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-python"},"time.sleep(args.recording_duration)\n")),(0,t.mdx)("h3",{id:"7-stop-recording-optional"},"7. Stop Recording (optional)"),(0,t.mdx)("p",null,"To stop recording using this code snippet, you'll need to plug your glasses into your computer to send the stop recording command. You can also stop recording using the Capture button on the glasses or using the Mobile companion app."),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-python"},"recording_manager.stop_recording()\n")),(0,t.mdx)("h3",{id:"8-disconnect"},"8. Disconnect"),(0,t.mdx)("p",null,"Once you've finished recording make sure you disconnect from the Aria glasses to release any held resources."),(0,t.mdx)("pre",null,(0,t.mdx)("code",{parentName:"pre",className:"language-python"},"device_client.disconnect(device)\n")))}m.isMDXComponent=!0}}]);