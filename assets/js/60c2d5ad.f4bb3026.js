"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9015],{3905:(e,t,n)=>{n.r(t),n.d(t,{MDXContext:()=>p,MDXProvider:()=>m,mdx:()=>b,useMDXComponents:()=>d,withMDXComponents:()=>u});var i=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r.apply(this,arguments)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=i.createContext({}),u=function(e){return function(t){var n=d(t.components);return i.createElement(e,r({},t,{components:n}))}},d=function(e){var t=i.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=d(e.components);return i.createElement(p.Provider,{value:t},e.children)},c="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},h=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,a=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=d(n),m=o,c=u["".concat(a,".").concat(m)]||u[m]||g[m]||r;return n?i.createElement(c,l(l({ref:t},p),{},{components:n})):i.createElement(c,l({ref:t},p))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:o,a[1]=l;for(var p=2;p<r;p++)a[p]=n[p];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}h.displayName="MDXCreateElement"},49941:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var i=n(87462),o=(n(67294),n(3905));const r={sidebar_position:50,title:"Troubleshooting"},a=void 0,l={unversionedId:"data_utilities/installation/troubleshooting",id:"data_utilities/installation/troubleshooting",title:"Troubleshooting",description:"Jupyter notebook error",source:"@site/docs/data_utilities/installation/troubleshooting.mdx",sourceDirName:"data_utilities/installation",slug:"/data_utilities/installation/troubleshooting",permalink:"/projectaria_tools/docs/data_utilities/installation/troubleshooting",draft:!1,editUrl:"https://github.com/facebookresearch/projectaria_tools/tree/main/website/docs/data_utilities/installation/troubleshooting.mdx",tags:[],version:"current",sidebarPosition:50,frontMatter:{sidebar_position:50,title:"Troubleshooting"},sidebar:"tutorialSidebar",previous:{title:"CMake for your projects",permalink:"/projectaria_tools/docs/data_utilities/installation/build_with_cmake"},next:{title:"Data Provider",permalink:"/projectaria_tools/docs/data_utilities/core_code_snippets/data_provider"}},s={},p=[{value:"Jupyter notebook error",id:"jupyter-notebook-error",level:2},{value:"Python module import error",id:"python-module-import-error",level:2},{value:"Visualizer issues",id:"visualizer-issues",level:2},{value:"Visualizers not building due to missing Pangolin functions",id:"visualizers-not-building-due-to-missing-pangolin-functions",level:4},{value:"Missing libraries",id:"missing-libraries",level:4},{value:"Window freezes",id:"window-freezes",level:4}],u={toc:p},d="wrapper";function m(e){let{components:t,...n}=e;return(0,o.mdx)(d,(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("h2",{id:"jupyter-notebook-error"},"Jupyter notebook error"),(0,o.mdx)("p",null,"Jupyter notebook works with version python3.9 or above.\nIf you have problems using Jupyter examples, please ",(0,o.mdx)("a",{parentName:"p",href:"https://www.python.org/downloads/"},"upgrade python3")," to the latest version."),(0,o.mdx)("h2",{id:"python-module-import-error"},"Python module import error"),(0,o.mdx)("p",null,"When running jupyter notebook, it could use a different python3 that's not in the virtual environment.\nEither remove the jupyter notebook from outside of the virtual environment, or directly start jupyter notebook from the virtual environment bin folder.\nIf the virtual environment is created with ",(0,o.mdx)("inlineCode",{parentName:"p"},"python3 -m venv $HOME/projectaria_tools_python_env"),", then you can directly call jupyter from the virtual env as"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-bash"},"$HOME/projectaria_tools_python_env/bin/jupyter notebook notebook_example.ipynb\n")),(0,o.mdx)("p",null,"Another reason could be an old version of projectaria_tools. Please make sure the installed projectaria version is the latest."),(0,o.mdx)("h2",{id:"visualizer-issues"},"Visualizer issues"),(0,o.mdx)("h4",{id:"visualizers-not-building-due-to-missing-pangolin-functions"},"Visualizers not building due to missing Pangolin functions"),(0,o.mdx)("p",null,"We depend on very recent changes to Pangolin's master branch. If ADT depends on Pangolin functions that are not available on your installed version of Pangolin, please reinstall the most recent master."),(0,o.mdx)("h4",{id:"missing-libraries"},"Missing libraries"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-bash"},"# Missing libpango_geometry.so, libpango_windowing.so, etc\nsudo ldconfig\n\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib/\n\nexport LD_LIBRARY_PATH\n")),(0,o.mdx)("h4",{id:"window-freezes"},"Window freezes"),(0,o.mdx)("p",null,"This is a know issue happening on some platform with X11. This is likely due to a graphics driver bug in X11.\nSee ",(0,o.mdx)("a",{parentName:"p",href:"https://github.com/stevenlovegrove/Pangolin/issues/782"},(0,o.mdx)("em",{parentName:"a"},"discussions on Pangolin issues")),". The fix is to swap from X11 to EGL."),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Test if it's display driver issue triggered by Pangolin Plotter")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-bash"},"cd /tmp/Pangolin_Build\n\ncmake -DCMAKE_BUILD_TYPE=Release -DBUILD_TOOLS=OFF -DBUILD_PANGOLIN_PYTHON=OFF \\\n-DBUILD_EXAMPLES=ON ../Pangolin/\n\nmake -j2\n")),(0,o.mdx)("p",null,"Running the following example should work"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-bash"},"./examples/BasicOpenGl/tutorial_3_gl_intro_classic_triangle_vbo_shader\n")),(0,o.mdx)("p",null,"If the following example shows a black window and the machine freezes, this may be the graphics driver issue. Move on to the next few steps to try fix it."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-bash"},"./examples/SimplePlot/SimplePlot\n")),(0,o.mdx)("ol",{start:2},(0,o.mdx)("li",{parentName:"ol"},"Checkout fix on github and rebase onto master")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-bash"},"cd /tmp/Pangolin\n\ngit fetch origin pull/389/head:x11_to_egl\n\ngit checkout x11_to_egl\n\ngit rebase master\n\n# rebuild pangolin\ncd /tmp/Pangolin_Build\n\ncmake -DCMAKE_BUILD_TYPE=Release -DBUILD_TOOLS=OFF -DBUILD_PANGOLIN_PYTHON=OFF \\\n-DBUILD_EXAMPLES=ON ../Pangolin/\n\nmake -j2\n\nsudo make install\n")),(0,o.mdx)("p",null,"You can confirm this is the right fix by rebuilding and retesting SimplePlot with step 1."),(0,o.mdx)("ol",{start:3},(0,o.mdx)("li",{parentName:"ol"},"Patch cmake for Visualizers")),(0,o.mdx)("p",null,"Update ",(0,o.mdx)("a",{parentName:"p",href:"/docs/data_utilities/visualization_guide#step-2--run-ariaviewer"},"AriaViewer")," CMakeLists in\n",(0,o.mdx)("inlineCode",{parentName:"p"},"$HOME/Documents/projectaria_sandbox/projectaria_tools/tools/CMakeLists.txt")),(0,o.mdx)("p",null,"Update ",(0,o.mdx)("a",{parentName:"p",href:"/docs/open_datasets/aria_digital_twin_dataset/visualizers#ariadigitaltwinviewer"},"AriaDigitalTwinViewer")," CMakeLists in\n",(0,o.mdx)("inlineCode",{parentName:"p"},"$HOME/Documents/projectaria_sandbox/projectaria_tools/projects/AriaDigitalTwinDatasetTools/visualization/CMakeLists.txt")),(0,o.mdx)("p",null,"add the following line"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-cmake"},"find_package(OpenGL QUIET COMPONENTS EGL)\n")),(0,o.mdx)("ol",{start:4},(0,o.mdx)("li",{parentName:"ol"},"Rebuild AriaViewer and validate it works")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-bash"},"cd $HOME/Documents/projectaria_sandbox/build\n\ncmake ../projectaria_tools -DPROJECTARIA_TOOLS_BUILD_TOOLS=ON\n\nmake -j2\n\n./tools/visualization/aria_viewer \\\n--vrs ../projectaria_tools/data/mps_sample/sample.vrs\n")))}m.isMDXComponent=!0}}]);